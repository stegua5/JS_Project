!function(e){var i={};function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=i,o.d=function(t,n,e){o.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(n,t){if(1&t&&(n=o(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)o.d(e,i,function(t){return n[t]}.bind(null,i));return e},o.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(n,"a",n),n},o.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},o.p="/dist",o(o.s=2)}([function(t){t.exports=jQuery},function(){},function(t,n,e){"use strict";e.r(n);var i=e(0),o=e.n(i),a="simple-lightbox";function s(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var r=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.modal=t,this.uid=(new Date).getTime()+Math.random(),this.namespace="".concat(a,"-").concat(this.uid),this.zooming=!1,this.dragging=!1,this.transX=0,this.transY=0,this.bind()}return function(t,n,e){n&&s(t.prototype,n),e&&s(t,e)}(n,[{key:"destroy",value:function(){this.unbind(),this.$img&&this.$img.remove()}},{key:"bind",value:function(){var n=this;this.modal.$container.on("mousedown.".concat(this.namespace),function(t){n.dragging=!0,n.dragStart(t.pageX,t.pageY),t.preventDefault()}).on("mousemove.".concat(this.namespace),function(t){n.dragging&&n.drag(t.pageX,t.pageY),t.preventDefault()}).on("mouseup.".concat(this.namespace," mouseleave.").concat(this.namespace),function(t){n.dragging=!1,t.preventDefault()}).on("dblclick.".concat(this.namespace),"img",function(t){n.toggleZoom(t.offsetX,t.offsetY),t.preventDefault()}),$(window).on("resize.".concat(this.namespace),function(){n.init()})}},{key:"unbind",value:function(){this.modal.$container.off(".".concat(this.namespace)),$(window).off(".".concat(this.namespace)),this.$img&&this.$img.remove()}},{key:"set",value:function(t,n){var e=this,i=1<arguments.length&&void 0!==n?n:null;this.$img=$("<img>").attr("src",t).hide().prependTo(this.modal.$content),this.modal.loading(),this.$img.on("load",function(){e.init(i),e.$img.show(),e.modal.loaded()})}},{key:"init",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;null!=n&&(this.zooming=n);var e=this.$img,i=this.modal.$container;this.zooming?e.css({"max-width":"","max-height":""}):e.css({"max-width":"100%","max-height":"100%"}),this.movableX=0,this.movableY=0,e.width()>i.width()&&(this.movableX+=(e.width()-i.width())/2),e.height()>i.height()&&(this.movableY+=(e.height()-i.height())/2),0==this.movableX&&0==this.movableY?e.css({cursor:"auto",left:"0",transform:""}):e.css({cursor:"move"}),0!=this.movableX&&e.css({left:"-".concat(this.movableX,"px")}),this.translate(this.transX,this.transY)}},{key:"dragStart",value:function(t,n){this.startX=t,this.startY=n,this.startTransX=this.transX,this.startTransY=this.transY}},{key:"drag",value:function(t,n){var e=this.startTransX+(t-this.startX),i=this.startTransY+(n-this.startY);this.translate(e,i)}},{key:"translate",value:function(t,n){t<-this.movableX&&(t=-this.movableX),t>this.movableX&&(t=this.movableX),n<-this.movableY&&(n=-this.movableY),n>this.movableY&&(n=this.movableY),this.transX=t,this.transY=n,this.$img.css("transform","translate(".concat(t,"px, ").concat(n,"px)"))}},{key:"wheel",value:function(t,n){this.translate(this.transX+t,this.transY-n)}},{key:"toggleZoom",value:function(t,n){var e=(this.$img.width()/2-t)*(this.$img.get(0).naturalWidth/this.$img.width()),i=(this.$img.height()/2-n)*(this.$img.get(0).naturalHeight/this.$img.height());this.modal.toggleZoom(),this.translate(e,i)}}]),n}();function l(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var c=function(){function e(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.modal=t,this.uid=(new Date).getTime()+Math.random(),this.namespace="".concat(a,"-").concat(this.uid),this.zooming=!1,this.bind()}return function(t,n,e){n&&l(t.prototype,n),e&&l(t,e)}(e,[{key:"destroy",value:function(){this.unbind(),this.$inner&&this.$inner.remove()}},{key:"bind",value:function(){var t=this;$(window).on("resize.".concat(this.namespace),function(){t.init()})}},{key:"unbind",value:function(){this.modal.$container.off(".".concat(this.namespace)),$(window).off(".".concat(this.namespace))}},{key:"set",value:function(t,n){var e=this;this.$inner=$("<div>").prependTo(this.modal.$content),this.$iframe=$("<iframe>").attr("src",t).css("visibility","hidden").prependTo(this.$inner),this.modal.loading(),this.$iframe.on("load",function(){e.init(n),e.$iframe.css({visibility:"visible","background-color":"#fff"}),e.modal.loaded()})}},{key:"init",value:function(t){var n=0<arguments.length&&void 0!==t?t:null;null!=n&&(this.zooming=n),this.zooming||!e.readableDocument(this.$iframe)?this.defaultSize():this.stretch()}},{key:"defaultSize",value:function(){this.$inner.css({width:"auto",height:"auto"}),this.$iframe.css({transform:"","transform-origin":"",width:"100%",height:"100%"}),this.$iframe.attr("scrolling","auto")}},{key:"stretch",value:function(){var t=this.modal.$content,n=this.$iframe.get(0).contentWindow.document,e=n.body.scrollWidth,i=n.body.scrollHeight,o=t.width()/e,a=t.height()/i;o<1&&o<a?(this.$inner.css({width:"100%",height:"".concat(i*o,"px")}),this.transform(e,i,o)):a<1&&a<o?(this.$inner.css({width:"".concat(e*a,"px"),height:"100%"}),this.transform(e,i,a)):(this.$inner.css({width:"".concat(e,"px"),height:"".concat(i,"px")}),this.transform(e,i)),this.$iframe.attr("scrolling","no")}},{key:"transform",value:function(t,n,e){var i=2<arguments.length&&void 0!==e?e:null;this.$iframe.css({transform:i?"scale(".concat(i,")"):"","transform-origin":i?"top left":"",width:"".concat(t,"px"),height:"".concat(n,"px")})}},{key:"wheel",value:function(){}}],[{key:"readableDocument",value:function(t){try{t.get(0).contentWindow.document}catch(t){return!1}return!0}}]),e}();function h(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.modal=t,this.options=t.options}return function(t,n,e){n&&h(t.prototype,n),e&&h(t,e)}(n,[{key:"create",value:function(t){var n=t.attr("href"),e=null;switch(t.data("type")||this.typeFromURL(n)){case"img":e=new r(this.modal);break;default:e=new c(this.modal)}return e}},{key:"typeFromURL",value:function(t){return this.getExtname(t).match(this.options.imageExt)?"img":"iframe"}},{key:"getExtname",value:function(t){return t.replace(/[?#].*$/,"").split("/").pop().split(".").pop()}}]),n}();function d(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function f(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function m(t,n,e){return n&&f(t.prototype,n),e&&f(t,e),t}var v={links:'a[rel="lightbox"]',owner:"body",imageExt:/^(jpg|jpeg|png|gif|bmp|webp)$/,template:'\n<div class="lb-modal">\n  <div class="lb-wrapper">\n    <div class="lb-toolbar">\n      <div class="lb-page"></div>\n      <div class="lb-caption"></div>\n      <div class="lb-tools">\n        <div class="lb-tool lb-zoom" title="Zoom"></div>\n        <div class="lb-tool lb-window" title="Open new window"></div>\n        <div class="lb-tool lb-close" title="Close"></div>\n      </div>\n    </div>\n    <div class="lb-icon lb-prev"></div>\n    <div class="lb-icon lb-next"></div>\n    <div class="lb-content">\n      <div class="lb-loading"></div>\n    </div>\n  </div>\n</div>\n'},p=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};d(this,e),this.options=o.a.extend({},v,n),this.$elem=o()(t),this.uid=(new Date).getTime()+Math.random(),this.namespace="".concat(a,"-").concat(this.uid),this.unbind(),this.bind()}return m(e,[{key:"destroy",value:function(){this.modal&&this.modal.close(),this.unbind()}},{key:"bind",value:function(){var n=this;this.$elem.on("click.".concat(this.namespace),this.options.links,function(t){t.ctrlKey||t.shiftKey||t.metaKey||(t.preventDefault(),n.open(o()(t.currentTarget)))})}},{key:"unbind",value:function(){this.$elem.off(".".concat(this.namespace))}},{key:"open",value:function(t){this.modal=new g(this),this.modal.setContent(t)}},{key:"links",value:function(){return this.$elem.find(this.options.links)}},{key:"current",value:function(){return this.links().filter(".lb-current")}},{key:"setCurrent",value:function(t){this.links().removeClass("lb-current"),t.addClass("lb-current")}},{key:"nextLink",value:function(){var t=this.links(),n=t.index(this.current());return n<t.length-1?t.eq(n+1):null}},{key:"prevLink",value:function(){var t=this.links(),n=t.index(this.current());return 0<n?t.eq(n-1):null}}],[{key:"modals",value:function(t){var n=0<arguments.length&&void 0!==t?t:window.document;return o()(n).find(".".concat(a)).map(function(t,n){return o()(n).data(a)}).get()}},{key:"getDefaults",value:function(){return v}},{key:"setDefaults",value:function(t){return o.a.extend(v,t)}}]),e}(),g=function(){function n(t){d(this,n),this.lightbox=t,this.options=t.options,this.$owner=o()(this.options.owner),this.ownerDocument=this.$owner.get(0).ownerDocument,o()(this.ownerDocument.body).addClass("".concat(a,"-disable-scroll")),this.$container=o()(this.options.template).addClass(a).data(a,this),this.$container.appendTo(this.$owner).show(),this.$wrapper=this.$container.find(".lb-wrapper"),this.$content=this.$container.find(".lb-content"),this.$caption=this.$container.find(".lb-caption"),this.$page=this.$container.find(".lb-page"),this.$loading=this.$container.find(".lb-loading"),this.zooming=!1,this.keyboardHandler=new b(this),this.wheelHandler=new y(this),this.bind()}return m(n,[{key:"bind",value:function(){var n=this;this.$container.on("click",function(){n.zooming||n.close()}).on("click",".lb-content, .lb-toolbar, .lb-icon",function(t){t.stopPropagation()}).on("click",".lb-close",function(t){n.close(),t.stopPropagation()}).on("click",".lb-window",function(t){n.openWindow(),t.stopPropagation()}).on("click",".lb-zoom",function(t){n.toggleZoom(),t.stopPropagation()}).on("click",".lb-next",function(t){n.next(),t.stopPropagation()}).on("click",".lb-prev",function(t){n.prev(),t.stopPropagation()}).hover(function(){n.$wrapper.addClass("lb-hover")},function(){n.$wrapper.removeClass("lb-hover")}),this.keyboardHandler.bind(),this.wheelHandler.bind()}},{key:"unbind",value:function(){this.$container.off(),this.keyboardHandler.unbind(),this.wheelHandler.unbind()}},{key:"close",value:function(){this.unbind(),this.$container.remove(),o()(this.ownerDocument.body).removeClass("".concat(a,"-disable-scroll")),this.view&&this.view.destroy()}},{key:"next",value:function(){var t=this.lightbox.nextLink();t&&this.setContent(t)}},{key:"prev",value:function(){var t=this.lightbox.prevLink();t&&this.setContent(t)}},{key:"toggleZoom",value:function(){this.zooming?(this.$container.removeClass("lb-zooming"),this.zooming=!1):(this.$container.addClass("lb-zooming"),this.zooming=!0),this.view&&this.view.init(this.zooming)}},{key:"openWindow",value:function(){window.open(this.lightbox.current().attr("href"))}},{key:"wheel",value:function(t,n){this.view&&this.view.wheel(t,n)}},{key:"setContent",value:function(t){this.lightbox.setCurrent(t);var n=this.lightbox.links();this.$page.text("".concat(n.index(t)+1,"/").concat(n.length));var e=o()("<span>").attr("title",t.attr("title")).text(t.attr("title"));this.$caption.empty().append(e),this.view&&this.view.destroy(),this.view=new u(this).create(t),this.view.set(t.attr("href"),this.zooming)}},{key:"loading",value:function(){this.$loading.show()}},{key:"loaded",value:function(){this.$loading.hide()}}]),n}(),b=function(){function n(t){d(this,n),this.modal=t,this.uid=(new Date).getTime()+Math.random(),this.namespace="".concat(a,"-").concat(this.uid)}return m(n,[{key:"bind",value:function(){var n=this;o()(document).on("keydown.".concat(this.namespace),function(t){n.keydown(t.keyCode,t.ctrlKey,t.shiftKey),t.preventDefault()})}},{key:"unbind",value:function(){o()(document).off(".".concat(this.namespace))}},{key:"keydown",value:function(t){switch(t){case 8:case 33:case 37:this.modal.prev();break;case 32:case 34:case 39:this.modal.next();break;case 13:this.modal.toggleZoom();break;case 27:this.modal.close()}}}]),n}(),y=function(){function n(t){d(this,n),this.modal=t}return m(n,[{key:"bind",value:function(){this.modal.ownerDocument.addEventListener("wheel",this.handler,{passive:!1})}},{key:"unbind",value:function(){this.modal.ownerDocument.removeEventListener("wheel",this.handler,{passive:!1})}},{key:"handler",value:function(n){n.preventDefault(),p.modals(this).forEach(function(t){t.zooming?t.wheel(n.deltaX,n.deltaY):n.deltaY<0?t.prev():t.next()})}}]),n}();e(1);o.a.fn.simpleLightbox=function(i){return this.each(function(t,n){var e=o()(n);e.data(a)&&e.data(a).destroy(),e.data(a,new p(e,i))})},o.a.SimpleLightbox=p}]);